<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@include file="../../module/head.jsp" %>

<!-- main-wrapper ÏïàÏóê sideBar/page-wrapper -->
<!-- page-wrapper ÏïàÏóê navbar/body-wrapper -->
<!-- body-wraaper ÏïàÏóê container-fluid -->
<!-- container-fluid ÏïàÏóê ÏûëÏóÖÌïòÏãúÎ©¥ Îê©ÎãàÎã§. -->

<style>
.card-body.text-center {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.card-body.text-center img {
    margin-bottom: 20px;
}

.card-body {
    min-height: 100%;
}
</style>

<link rel="stylesheet" href="${pageContext.request.contextPath }/assets/libs/magnific-popup/dist/magnific-popup.css">
  
<body class="link-sidebar">
  <%@include file="../../module/commonTags.jsp" %>
  <div id="main-wrapper" class="main-wrapper" >
    <%@include file="../../module/sideBar.jsp" %>
    <div class="page-wrapper"> 
    <%@include file="../../module/navBar.jsp" %>
	    <div class="body-wrapper">
	      <div class="container-fluid">
	      	
	      	
	      	<div class="card card-body py-3">
			  <div class="row align-items-center">
			    <h4 class="mb-4 mb-sm-0 card-title">Ïù∏ÏÇ¨ Ïπ¥Îìú</h4>
			  </div>
			</div>
			
			<div class="card bg-primary-gt text-white overflow-hidden shadow-none">
			
				<div class="card-body position-relative z-1">
                  <div class="row justify-content-between align-items-center">
                    <div class="col-sm-6">
                      <h5 class="fw-semibold mb-9 fs-5 text-white">üèóÔ∏è Îì†Îì†Ìïú Í±¥ÏÑ§ ÌååÌä∏ÎÑà BatirPlan!</h5>
                      <p class="mb-9 opacity-75">
                      	<i class="ti ti-alert-circle fs-5"></i>
                      	Ïû¨ÏßÅ ÏÉÅÌÉú Ï≤†Ìöå Î∞è Í∂åÌïú ÏÑ§Ï†ïÏùÄ ITÌåÄÏóê Î¨∏ÏùòÌïòÏÑ∏Ïöî!
                      </p>
                    </div>
                    <div class="col-sm-5">
                      <div class="position-relative mb-n7 text-end">
                        <img src="${pageContext.request.contextPath }/assets/images/backgrounds/welcome-bg2.png" alt="matdash-img" class="img-fluid">
                      </div>
                    </div>
                  </div>
                </div>
			
			</div>
			
			<div class="row d-flex align-items-stretch">
				<div class="col-md-4 d-flex">
					<div class="card flex-fill">
						<div class="card-body text-center">
						  <c:choose>
						  	<c:when test="${empty empVO.proflImageCours }">
			                  <div class="position-relative">
			                  	<a class="image-popup-vertical-fit" href="${pageContext.request.contextPath }">
			                    	<img src="${pageContext.request.contextPath }/assets/images/profile/user-3.jpg" alt="matdash-img" class="img-fluid mb-4 rounded-circle position-relative" style="width: 200px; height: 200px; object-fit: cover;">
			                    </a>
			                  </div>
						  	</c:when>
						  	<c:otherwise>
			                  <div class="position-relative">
			                  	<a class="image-popup-vertical-fit" href="${empVO.proflImageCours }">
			                    	<img src="${empVO.proflImageCours }" alt="matdash-img" class="img-fluid mb-4 rounded-circle position-relative" style="width: 200px; height: 200px; object-fit: cover;">
			                    </a>
			                  </div>
						  	</c:otherwise>
						  </c:choose>
		                  <h5 class="fw-semibold fs-5 mb-2">${empVO.emplNm }</h5>
		                  <p class="mb-3 px-xl-5">
		                  	<c:choose>
	                           		<c:when test="${empVO.deptCode eq '01'}">
	                           			üè¢ Í≤ΩÏòÅÏßÄÏõê
	                           		</c:when>
	                           		<c:when test="${empVO.deptCode eq '02'}">
	                           			üèóÔ∏è Í±¥Ï∂ïÍ∏∞Ìöç
	                           		</c:when>
	                           		<c:when test="${empVO.deptCode eq '03'}">
	                           			üè¶ Ïû¨Î¨¥
	                           		</c:when>
	                           		<c:when test="${empVO.deptCode eq '04'}">
	                           			üå± ÏûêÏõê
	                           		</c:when>
	                           		<c:when test="${empVO.deptCode eq '05'}">
	                           			üíª IT
	                           		</c:when>
	                           		<c:otherwise>
	                           			Í∏∞ÌÉÄ
	                           		</c:otherwise>
	                           	</c:choose>
	                           	<c:choose>
	                           		<c:when test="${empVO.clsfCode eq '01'}">
	                           			ÏÇ¨Ïõê
	                           		</c:when>
	                           		<c:when test="${empVO.clsfCode eq '02'}">
	                           			ÎåÄÎ¶¨
	                           		</c:when>
	                           		<c:when test="${empVO.clsfCode eq '03'}">
	                           			Í≥ºÏû•
	                           		</c:when>
	                           		<c:when test="${empVO.clsfCode eq '04'}">
	                           			Ï∞®Ïû•
	                           		</c:when>
	                           		<c:when test="${empVO.clsfCode eq '05'}">
	                           			Î∂ÄÏû•
	                           		</c:when>
	                           		<c:otherwise>
	                           			Í∏∞ÌÉÄ
	                           		</c:otherwise>
	                           	</c:choose>
		                  </p>
		                </div>
					</div>
	            </div>
	            
	            <div class="col-md-8 d-flex">
	            	<div class="card flex-fill">
	            		<div class="card-body">
	            			<%-- ${empVO } --%>
	            			<h6 class="mb-4 mb-sm-0 card-title">ÏÇ¨Ïõê Í∏∞Î≥∏ Ï†ïÎ≥¥</h4>
	            			<div class="vstack gap-3 mt-4">
		                        <div class="hstack gap-6">
		                          <i class="ti ti-briefcase text-dark fs-6"></i>
		                          <h6 class=" mb-0">${empVO.emplNm }</h6>
		                        </div>
		                        <div class="hstack gap-6">
		                          <i class="ti ti-cake text-dark fs-6"></i>
		                          <h6 class=" mb-0">
	                          		<fmt:parseDate var="encpnDate" value="${empVO.encpn}" pattern="yyyyMMdd" />
						        	<fmt:formatDate value="${encpnDate}" pattern="yyyy-MM-dd" />
		                          </h6>
		                        </div>
		                        <div class="hstack gap-6">
		                          <i class="ti ti-mail text-dark fs-6"></i>
		                          <h6 class=" mb-0">${empVO.email }</h6>
		                        </div>
		                        <div class="hstack gap-6">
		                          <i class="ti ti-phone text-dark fs-6"></i>
		                          <h6 class=" mb-0">
		                         	 ${fnc:substring(empVO.mbtlnum, 0, 3)}-${fnc:substring(empVO.mbtlnum, 3, 7)}-${fnc:substring(empVO.mbtlnum, 7, 11)}
		                          </h6>
		                        </div>
		                        <div class="hstack gap-6">
		                          <i class="ti ti-map-pin text-dark fs-6"></i>
		                          <h6 class=" mb-0">${empVO.adres } ${empVO.detailadres }</h6>
		                        </div>
		                        <div class="hstack gap-6">
		                          <i class="ti ti-cash text-dark fs-6"></i>
		                          <h6 class=" mb-0">
		                          		(
		                          		<c:choose>
		                          			<c:when test="${empVO.bankCode eq '001'}">
		                          				ÌïúÍµ≠ÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '002'}">
		                          				ÏÇ∞ÏóÖÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '003'}">
		                          				Í∏∞ÏóÖÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '004'}">
		                          				Íµ≠ÎØºÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '011'}">
		                          				ÎÜçÌòëÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '020'}">
		                          				Ïö∞Î¶¨ÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '031'}">
		                          				ÎåÄÍµ¨ÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '032'}">
		                          				Î∂ÄÏÇ∞ÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '034'}">
		                          				Í¥ëÏ£ºÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '035'}">
		                          				Ï†úÏ£ºÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '037'}">
		                          				Ï†ÑÎ∂ÅÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '039'}">
		                          				Í≤ΩÎÇ®ÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '045'}">
		                          				ÏÉàÎßàÏùÑÍ∏àÍ≥†Ï§ëÏïôÌöå
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '048'}">
		                          				Ïã†ÌòëÏ§ëÏïôÌöå
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '081'}">
		                          				KEBÌïòÎÇòÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '088'}">
		                          				Ïã†ÌïúÏùÄÌñâ
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '089'}">
		                          				ÏºÄÏù¥Î±ÖÌÅ¨
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '090'}">
		                          				Ïπ¥Ïπ¥Ïò§Î±ÖÌÅ¨
		                          			</c:when>
		                          			<c:when test="${empVO.bankCode eq '092'}">
		                          				ÌÜ†Ïä§Î±ÖÌÅ¨
		                          			</c:when>
		                          		</c:choose>
		                          		)
		                          		${empVO.acnutno } 
                          		  </h6>
		                        </div>
		                        <div class="hstack gap-6">
		                          <i class="ti ti-calendar text-dark fs-6"></i>
		                          <h6 class=" mb-0">
		                          	ÏûÖÏÇ¨Ïùº - 
		                          	<fmt:parseDate var="encpnDate" value="${empVO.encpn}" pattern="yyyyMMdd" />
							        <fmt:formatDate value="${encpnDate}" pattern="yyyy-MM-dd" />
		                          </h6>
		                        </div>
		                        <c:if test="${!empty empVO.retireDe }">
		                        	<div class="hstack gap-6">
		                          		<i class="ti ti-calendar text-dark fs-6"></i>
	                          			<h6 class=" mb-0">
	                          				Ìá¥ÏÇ¨Ïùº - 
				                        	<fmt:parseDate var="retireDate" value="${empVO.retireDe}" pattern="yyyyMMdd" />
								            <fmt:formatDate value="${retireDate}" pattern="yyyy-MM-dd" />
	                          			</h6>
	                        		</div>
		                        </c:if>
		                      </div>
	            			
	            			
	            			
	            			
	            			<div class="text-end">
	            				<button class="btn btn-primary" onclick="location.href='/batirplan/hrm/hrcard/modify?emplCode=${empVO.emplCode}'">ÏàòÏ†ï</button>
	            				<button class="btn btn-primary" onclick="goList()">Î™©Î°ù</button>
	            			</div>
	            		</div>
	            	</div>
	            </div>
	      </div>

	      
		  </div>
	    </div>
    </div>
    </div>
  <%@include file="../../module/footerScript.jsp" %>
  <script src="${pageContext.request.contextPath }/assets/libs/magnific-popup/dist/jquery.magnific-popup.min.js"></script>
  <script src="${pageContext.request.contextPath }/assets/js/plugins/meg.init.js"></script>
</body>
<script>
function goList(){
    let referrer = document.referrer;  // Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄ URL
    console.log("referrer:", referrer);

    // ÎßåÏïΩ register ÎòêÎäî modify ÌéòÏù¥ÏßÄÏóêÏÑú ÏôîÎã§Î©¥
    if(referrer.includes("/batirplan/hrm/hrcard/register") || referrer.includes("/batirplan/hrm/hrcard/modify")){
        location.href = "/batirplan/hrm/hrcard/list";
    } else {
        history.back(); 
    }
}
</script>

</html>